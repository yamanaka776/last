"use strict";!function(t){var e,n="offset",o="client",r=function(){},l=!1,a=!1,i=void 0===t.addEventListener,u={loopDelay:50,maxLoop:5,debug:!0,found:r,notfound:r,complete:r},s=function(t){var e=new XMLHttpRequest;this.success=t.success||r,this.fail=t.fail||r;var n=this,o=t.method||"get";this.abort=function(){try{e.abort()}catch(t){}},e.onreadystatechange=function t(o){4==e.readyState&&(200==e.status?n.success(e.response):n.fail(e.status))},e.open(o,t.url,!0),e.send()},c=function(){var t={};this.addUrl=function(e){return t[e]={url:e,state:"pending",format:null,data:null,result:null},t[e]},this.setResult=function(e,n,o){var r=t[e];if(null==r&&(r=this.addUrl(e)),r.state=n,null==o){r.result=null;return}if("string"==typeof o)try{o=function t(e){var n,o;try{n=JSON.parse(e)}catch(r){try{n=(o=Function("return "+e))()}catch(l){g("Failed secondary JSON parse",!0)}}return n}(o),r.format="json"}catch(l){r.format="easylist"}return r.data=o,r}},d=[],f=null,p={cssClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},$={nullProps:[n+"Parent"],zeroProps:[]};$.zeroProps=[n+"Height",n+"Left",n+"Top",n+"Width",n+"Height",o+"Height",o+"Width"];var h={quick:null,remote:null},y=null,v={test:0,download:0};function b(t){return"function"==typeof t}function g(e,n){(u.debug||n)&&t.console&&t.console.log&&(n?console.error("[ABD] "+e):console.log("[ABD] "+e))}var m=[];function P(t){var n,o;e.addUrl(t),n=new s({url:t,success:function(n){g("downloaded file "+t),o=e.setResult(t,"success",n);try{var r=0,l=0,i=function(t){return!a&&(_(t,!0),!0)};if(!0==y||i(o.data))return;g("Pause before test execution"),r=setInterval(function(){(i(o.data)||l++>5)&&clearInterval(r)},250)}catch(u){g(u.message+" url: "+t,!0)}},fail:function(n){g(n,!0),e.setResult(t,"error",null)}}),m.push(n)}function x(){var t,e,n=u;for(t=0;t<n.blockLists.length;t++)P(e=n.blockLists[t])}function _(t){g("start beginTest"),!0!=y&&(a=!0,k(t),h.quick="testing",v.test=setTimeout(function(){(function t(e,n){var o,r=document.body,i=!1;if(null==f&&(g("recast bait"),k(e||p)),"string"==typeof e){g("invalid bait used",!0),w()&&setTimeout(function(){a=!1},5);return}for(v.test>0&&(clearTimeout(v.test),v.test=0),null!==r.getAttribute("abp")&&(g("found adblock body attribute"),i=!0),o=0;o<$.nullProps.length;o++){if(null==f[$.nullProps[o]]){n>4&&(i=!0),g("found adblock null attr: "+$.nullProps[o]);break}if(!0==i)break}for(o=0;o<$.zeroProps.length&&!0!=i;o++)0==f[$.zeroProps[o]]&&(n>4&&(i=!0),g("found adblock zero attr: "+$.zeroProps[o]));if(void 0!==window.getComputedStyle){var s=window.getComputedStyle(f,null);("none"==s.getPropertyValue("display")||"hidden"==s.getPropertyValue("visibility"))&&(n>4&&(i=!0),g("found adblock computedStyle indicator"))}l=!0,i||n++>=u.maxLoop?(g("exiting test loop - value: "+(y=i)),function t(){var e,n;if(null!==y)for(e=0;e<d.length;e++){n=d[e];try{null!=n&&(b(n.complete)&&n.complete(y),y&&b(n.found)?n.found():!1===y&&b(n.notfound)&&n.notfound())}catch(o){g("Failure in notify listeners "+o.Message,!0)}}}(),w()&&setTimeout(function(){a=!1},5)):v.test=setTimeout(function(){t(e,n)},u.loopDelay)})(t,1)},5))}function k(t){var e,n,o=document.body,r="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null==t||"string"==typeof t){g("invalid bait being cast");return}for(null!=t.style&&(r+=t.style),f=function t(e,n){var o,r,l=n;if(r=document.createElement("div"),l)for(o in l)l.hasOwnProperty(o)&&r.setAttribute(o,l[o]);return r}("div",{class:t.cssClass,style:r}),g("adding bait node to DOM"),o.appendChild(f),n=0;n<$.nullProps.length;n++)e=f[$.nullProps[n]];for(n=0;n<$.zeroProps.length;n++)e=f[$.zeroProps[n]]}function w(){if(null===f)return!0;try{b(f.remove)&&f.remove(),document.body.removeChild(f)}catch(t){}return f=null,!0}function z(){v.test>0&&clearTimeout(v.test),v.download>0&&clearTimeout(v.download),function t(){var e,n;for(e=m.length-1;e>=0;e--)(n=m.pop()).abort()}(),w()}t.adblockDetector={version:"1.0",init:function(n){var o,l;if(n){for(o in l={complete:r,found:r,notfound:r},n)n.hasOwnProperty(o)&&("complete"==o||"found"==o||"notFound"==o?l[o.toLowerCase()]=n[o]:u[o]=n[o]);d.push(l),e=new c,function e(){var n,o=!1;if(document.readyState&&"complete"==document.readyState&&(o=!0),n=function(){_(p,!1)},o)n();else{var r,l,a="load";r=t,l=n,i?r.attachEvent("on"+a,l):r.addEventListener(a,l,!1)}}()}}}}(window);
