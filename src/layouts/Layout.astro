---
import { GoogleFontsOptimizer } from 'astro-google-fonts-optimizer'
const { og, meta, title, schema } = Astro.props
import { Icon } from 'astro-icon/components'
import Search from '../components/Search.astro'
const canonicalURL = new URL(Astro.url.pathname, Astro.site)
const schema1 = JSON.stringify(schema)
---

<html lang="ja">
  <head
    prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"
  >
    <meta charset="utf-8" />
    <GoogleFontsOptimizer
      url="https://fonts.googleapis.com/css2?family=BIZ+UDGothic:wght@400;700&display=swap"
    />
    <meta property="og:type" content="blog" />
    <meta property="og:image" content={og} />
    <meta name="description" content={meta} />
    <link rel="canonical" href={canonicalURL} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="author" href="http://www.hatena.ne.jp/ysuitable/" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="RSS Feed for My Website"
      href="/rss.xml"
    />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <script type="application/ld+json" set:html={schema1} is:inline />
    <title>{title}</title>
    <style is:global>
      body {
        font-family: 'BIZ UDGothic', sans-serif;
      }
      body {
        --pagefind-ui-scale: 0.65;
        --pagefind-ui-primary: #034ad8;
        --pagefind-ui-text: #393939;
        --pagefind-ui-background: #ffffff;
        --pagefind-ui-border: #eeeeee;
        --pagefind-ui-tag: #eeeeee;
        --pagefind-ui-border-width: 2px;
        --pagefind-ui-border-radius: 8px;
        --pagefind-ui-image-border-radius: 8px;
        --pagefind-ui-image-box-ratio: 3 / 2;
        --pagefind-ui-font: sans-serif;
      }

      @media (prefers-color-scheme: dark) {
        body {
          --pagefind-ui-primary: #eeeeee;
          --pagefind-ui-text: #eeeeee;
          --pagefind-ui-background: #152028;
          --pagefind-ui-border: #152028;
          --pagefind-ui-tag: #152028;
        }
      }
    </style>
  </head>
  <body class="w-full dark:bg-dark-back">
    <div
      class="mx-auto w-full max-w-full lg:w-10/12 lg:max-w-4xl 2xl:max-w-6xl"
    >
      <header class="rounded w-ful flex md:h-16 h-24 p-2 shadow">
        <Icon
          name="tabler:ear"
          class="text-xl dark:text-dark-text md:text-4xl"
        />
        <a
          href="/"
          class="ml-0 mt-px text-xl font-bold dark:text-dark-text md:text-4xl"
          >耳日記</a
        >
        <div
          class="ml-auto mr-0 w-1/4 max-w-1/4 dark:bg-[#152028] bg-[#ffffff]"
        >
          <Search />
        </div>
      </header>
      <main class="dark:bg-dark-back" id="yuria">
        <slot />
      </main>
    </div>
    <footer
      class="m-4 mx-auto w-full max-w-full rounded-lg bg-white dark:bg-dark-back lg:w-10/12 lg:max-w-4xl 2xl:max-w-6xl"
    >
      <div
        class="mx-auto w-full max-w-screen-xl p-4 md:flex md:items-center md:justify-between"
      >
        <span class="text-sm text-gray-500 dark:text-gray-400 sm:text-center"
          >© 2024 All Rights Reserved.
        </span>
        <ul
          class="mt-3 flex flex-wrap items-center text-sm font-medium text-gray-500 dark:text-gray-400 sm:mt-0"
        >
          <li>
            <a href="/about" class="m-6 me-4 hover:underline md:me-6">About</a>
          </li>
          <li>
            <a href="/privacy" class="me-4 hover:underline md:me-6"
              >プライバシーポリシー</a
            >
          </li>
        </ul>
      </div>
    </footer>
    <div
      class="elevator fixed bottom-5 right-5 h-10 w-10 text-black dark:text-white md:h-12 md:w-12"
    >
      <svg
        class="sweet-svg"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        version="1.1"
        x="0px"
        y="0px"
        viewBox="0 0 100 100"
        enable-background="new 0 0 100 100"
        xml:space="preserve"
      >
        <path
          fill="currentColor"
          stroke="currentColor"
          d="M70,47.5H30c-1.4,0-2.5,1.1-2.5,2.5v40c0,1.4,1.1,2.5,2.5,2.5h40c1.4,0,2.5-1.1,2.5-2.5V50C72.5,48.6,71.4,47.5,70,47.5z   M47.5,87.5h-5v-25h5V87.5z M57.5,87.5h-5v-25h5V87.5z M67.5,87.5h-5V60c0-1.4-1.1-2.5-2.5-2.5H40c-1.4,0-2.5,1.1-2.5,2.5v27.5h-5  v-35h35V87.5z"
        ></path>
        <path
          fill="currentColor"
          stroke="currentColor"
          d="M50,42.5c1.4,0,2.5-1.1,2.5-2.5V16l5.7,5.7c0.5,0.5,1.1,0.7,1.8,0.7s1.3-0.2,1.8-0.7c1-1,1-2.6,0-3.5l-10-10  c-1-1-2.6-1-3.5,0l-10,10c-1,1-1,2.6,0,3.5c1,1,2.6,1,3.5,0l5.7-5.7v24C47.5,41.4,48.6,42.5,50,42.5z"
        ></path>
      </svg>
    </div>
    <script>
      // elevator
      var Elevator = function (n) {
        'use strict'
        function e(n, e, t, o) {
          return (
            (n /= o / 2),
            1 > n
              ? (t / 2) * n * n + e
              : (n--, (-t / 2) * (n * (n - 2) - 1) + e)
          )
        }
        function t(n, e) {
          for (var t in e) {
            var o = void 0 === n[t] && 'function' != typeof t
            o && (n[t] = e[t])
          }
          return n
        }
        function o(n) {
          for (var e = 0; n; ) (e += n.offsetTop || 0), (n = n.offsetParent)
          return g && (e -= g), e
        }
        function l(n) {
          T || (T = n)
          var t = n - T,
            o = e(t, k, y - k, b)
          window.scrollTo(0, o), b > t ? (w = requestAnimationFrame(l)) : r()
        }
        function i() {
          return (
            window.requestAnimationFrame &&
            window.Audio &&
            window.addEventListener
          )
        }
        function u() {
          ;(T = null), (k = null), (h = !1)
        }
        function a() {
          C && (y = o(C))
        }
        function r() {
          u(), f && (f.pause(), (f.currentTime = 0)), p && p.play(), v && v()
        }
        function d() {
          h &&
            (cancelAnimationFrame(w),
            u(),
            f && (f.pause(), (f.currentTime = 0)),
            a(),
            window.scrollTo(0, y))
        }
        function c(n) {
          n.addEventListener
            ? n.addEventListener('click', F.elevate, !1)
            : n.attachEvent('onclick', function () {
                a(),
                  (document.documentElement.scrollTop = y),
                  (document.body.scrollTop = y),
                  window.scroll(0, y)
              })
        }
        function s(n) {
          A = document.body
          var e = {
            duration: void 0,
            mainAudio: !1,
            endAudio: !1,
            preloadAudio: !0,
            loopAudio: !0,
            startCallback: null,
            endCallback: null,
          }
          ;(n = t(n, e)),
            n.element && c(n.element),
            i() &&
              (n.duration && ((E = !0), (b = n.duration)),
              n.targetElement && (C = n.targetElement),
              n.verticalPadding && (g = n.verticalPadding),
              window.addEventListener('blur', d, !1),
              n.mainAudio &&
                ((f = new Audio(n.mainAudio)),
                f.setAttribute('preload', n.preloadAudio),
                f.setAttribute('loop', n.loopAudio)),
              n.endAudio &&
                ((p = new Audio(n.endAudio)),
                p.setAttribute('preload', 'true')),
              n.endCallback && (v = n.endCallback),
              n.startCallback && (m = n.startCallback))
        }
        var m,
          f,
          p,
          v,
          A = null,
          w = null,
          b = null,
          E = !1,
          T = null,
          k = null,
          y = 0,
          C = null,
          g = null,
          h = !1,
          F = this
        ;(this.elevate = function () {
          h ||
            ((h = !0),
            (k = document.documentElement.scrollTop || A.scrollTop),
            a(),
            E || (b = 1.5 * Math.abs(y - k)),
            requestAnimationFrame(l),
            f && f.play(),
            m && m())
        }),
          s(n)
      }
      'undefined' != typeof module &&
        module.exports &&
        (module.exports = Elevator)
      window.addEventListener('load', function () {
        var elevator = new Elevator({
          element: document.querySelector('.elevator'),
          endAudio: '/audio/elevator/audio.mp3',
        })
      })
    </script>
  </body>
</html>
